---
lab:
  title: Microsoft Fabric에서 실시간 분석 시작
  module: Get started with real-time analytics in Microsoft Fabric
---

# Microsoft Fabric에서 실시간 분석 시작

Microsoft Fabric은 KQL(Kusto 쿼리 언어)을 사용하여 데이터를 저장하고 쿼리하는 데 사용할 수 있는 런타임을 제공합니다. Kusto는 로그 파일 또는 IoT 디바이스의 실시간 데이터와 같은 시계열 구성 요소를 포함하는 데이터에 최적화되어 있습니다.

이 랩을 완료하는 데 약 **30**분이 소요됩니다.

> **참고**: 이 연습을 완료하려면 [Microsoft Fabric 평가판](https://learn.microsoft.com/fabric/get-started/fabric-trial)이 필요합니다.

## 작업 영역 만들기

패브릭에서 데이터를 사용하기 전에 패브릭 평가판을 사용하도록 설정된 작업 영역을 만듭니다.

1. Microsoft Fabric 홈페이지[에서 ](https://app.fabric.microsoft.com)Synapse 실시간 분석을** 선택합니다**.
1. 왼쪽 메뉴 모음에서 **작업 영역**을 선택합니다(아이콘은 와 유사함).
1. Fabric 용량이 포함된 라이선스 모드(*평가판*, *프리미엄* 또는 *Fabric*)를 선택하여 원하는 이름으로 새 작업 영역을 만듭니다.
1. 새 작업 영역이 열리면 비어 있어야 합니다.

    ![Fabric의 빈 작업 영역 스크린샷.](./Images/new-workspace.png)

## KQL 데이터베이스용 파일 다운로드

이제 작업 영역이 있으므로 분석할 데이터 파일을 다운로드해야 합니다.

1. 이 연습[https://raw.githubusercontent.com/MicrosoftLearning/dp-data/main/sales.csv](https://raw.githubusercontent.com/MicrosoftLearning/dp-data/main/sales.csv)의 데이터 파일을 다운로드하여 로컬 컴퓨터에 sales.csv** 저장**합니다(또는 해당하는 경우 랩 VM).
1. Microsoft Fabric** 환경을 사용하여 브라우저 창으로 **돌아갑니다.

## KQL 데이터베이스 만들기

KQL(Kusto 쿼리 언어)은 KQL 데이터베이스에 정의된 테이블의 정적 또는 스트리밍 데이터를 쿼리하는 데 사용됩니다. 판매 데이터를 분석하려면 KQL 데이터베이스에 테이블을 만들고 파일에서 데이터를 수집해야 합니다.

1. **Microsoft Fabric** 환경 포털에서 다음과 같이 Synapse 실시간 분석** 환경 이미지를 선택합니다**.

    ![RTA가 선택된 선택한 패브릭 환경 홈의 스크린샷](./Images/fabric-experience-home.png)

2. **실시간 분석** 환경의 **홈**페이지에서 KQL 데이터베이스**를 선택하고 **원하는 이름으로 새 데이터베이스를 만듭니다.
3. 새 데이터베이스가 만들어지면 로컬 파일**에서 **데이터를 가져오는 옵션을 선택합니다. 그런 다음 마법사를 사용하여 다음 옵션을 선택하여 데이터를 새 테이블로 가져옵니다.
    - **대상:**
        - **데이터베이스**: *만든 데이터베이스가 이미 선택되어 있습니다.*
        - **표**: *새 테이블의 왼쪽***에 있는 + 기호를 클릭하여 sales**라는* **새 테이블 만들기***

        ![새 테이블 마법사 1단계](./Images/import-wizard-local-file-1.png?raw=true)

        - 이제 여기에 파일 끌기가 **표시되거나 파일 찾아보기** 하이퍼링크가 같은 창에 표시됩니다.

        ![새 테이블 마법사 2단계](./Images/import-wizard-local-file-2.png?raw=true)

        - sales.csv** 화면으로 이동하거나 끌어**온 다음 상태 상자가 녹색 검사 상자로 변경되기를 기다린 다음 다음을 선택합니다 **.**

        ![새 테이블 마법사 3단계](./Images/import-wizard-local-file-3.png?raw=true)

        - 이 화면에서 열 머리글은 시스템에서 검색했지만 첫 번째 행에 있는 것을 볼 수 있습니다. 오류가 발생하지 않도록 하려면 열 머리글이 열 머리글**인 줄 **위로 슬라이더를 이동해야 합니다.
        
        ![새 테이블 마법사 4단계](./Images/import-wizard-local-file-4.png?raw=true)

        - 이 슬라이더를 선택하면 모든 항목이 제대로 표시되고 패널 오른쪽 아래에 있는 마침** 단추를 선택합니다**.

        ![새 테이블 마법사 5단계](./Images/import-wizard-local-file-5.png?raw=true)

        - 요약 화면의 단계가 완료되기를 기다립니다. 여기에는 다음이 포함됩니다.
            - 테이블 만들기(판매)
            - 매핑 만들기(sales_mapping)
            - 데이터 큐
            - 수집
        - 닫기** 단추 **선택

        ![새 테이블 마법사 6단계](./Images/import-wizard-local-file-6.png?raw=true)

> **참고**: 이 예제에서는 파일에서 매우 적은 양의 정적 데이터를 가져왔습니다. 이 연습에서는 괜찮습니다. 실제로 Kusto를 사용하여 훨씬 더 많은 양의 데이터를 분석할 수 있습니다. Azure Event Hubs와 같은 스트리밍 원본의 실시간 데이터를 포함합니다.

## KQL을 사용하여 판매 테이블 쿼리

이제 데이터베이스에 데이터 테이블이 있으므로 KQL 코드를 사용하여 쿼리할 수 있습니다.

1. 판매** 테이블이 **강조 표시되어 있는지 확인합니다. 메뉴 모음에서 쿼리 테이블** 드롭다운을 **선택하고 여기에서 100개의 레코드** 표시를 선택합니다**.

2. 쿼리 및 결과와 함께 새 창이 열립니다. 

3. 쿼리를 다음과 같이 수정합니다.

    ```kusto
   sales
   | where Item == 'Road-250 Black, 48'
    ```

4. 쿼리를 실행합니다. 그런 다음, *Road-250 Black, 48* 제품에 대한 판매 주문 행만 포함해야 하는 결과를 검토합니다.

5. 쿼리를 다음과 같이 수정합니다.

    ```kusto
   sales
   | where Item == 'Road-250 Black, 48'
   | where datetime_part('year', OrderDate) > 2020
    ```

6. 쿼리를 실행하고 결과를 검토합니다. 이 결과에는 2020년 이후에 이루어진 *Road-250 Black, 48*에 대한 판매 주문만 포함되어야 합니다.

7. 쿼리를 다음과 같이 수정합니다.

    ```kusto
   sales
   | where OrderDate between (datetime(2020-01-01 00:00:00) .. datetime(2020-12-31 23:59:59))
   | summarize TotalNetRevenue = sum(UnitPrice) by Item
   | sort by Item asc
    ```

8. 쿼리를 실행하고 결과를 검토합니다. 이 결과에는 제품 이름의 오름차순으로 2020년 1월 1일부터 12월 31일까지 각 제품의 총 순 수익이 포함됩니다.
9. KQL 쿼리 세트**로 저장을 선택하고 **쿼리를 Revenue by Product**로 **저장합니다.

## KQL 쿼리 세트에서 Power BI 보고서 만들기

Power BI 보고서의 기준으로 KQL 쿼리 세트를 사용할 수 있습니다.

1. 쿼리 집합에 대한 쿼리 워크벤치 편집기에서 쿼리를 실행하고 결과를 기다립니다.
2. Power BI 보고서 빌드를 선택하고 **보고서** 편집기가 열릴 때까지 기다립니다.
3. 보고서 편집기에서 데이터 창에서 **Kusto 쿼리 결과를** 확장하고 **항목** 및 **TotalRevenue** 필드를 선택합니다**.**
4. 보고서 디자인 캔버스에서 추가된 테이블 시각화를 선택한 다음 시각화 창에서 **클러스터형 가로 막대형 차트**를 선택합니다**.**

    ![KQL 쿼리의 보고서 스크린샷](./Images/kql-report.png)

5. Power BI 창의 파일 메뉴에서 저장**을 선택합니다**.** ******  그런 다음, 레이크하우스 및 KQL 데이터베이스가 비비저장** 민감도 레이블을 사용하여 정의된 작업 영역에서 Revenue by Item.pbix**로 **** 보고서를 저장합니다.
6. **Power BI** 창을 닫고 왼쪽의 막대에서 작업 영역에 대한 아이콘을 선택합니다.

    포함된 모든 항목을 보려면 필요한 경우 작업 영역 페이지를 새로 고칩니다.

7. 작업 영역 **의 항목 목록에서 항목별** 수익 보고서가 나열됩니다.

## 리소스 정리

이 연습에서는 레이크하우스에 업로드된 데이터를 분석하는 KQL 데이터베이스인 Lakehouse를 만들었습니다. KQL을 사용하여 데이터를 쿼리하고 쿼리 집합을 만든 다음 Power BI 보고서를 만드는 데 사용되었습니다.

KQL 데이터베이스 탐색을 완료한 경우 이 연습에 대해 만든 작업 영역을 삭제할 수 있습니다.

1. 왼쪽의 막대에서 작업 영역의 아이콘을 선택합니다.
2. 도구 모음의 **...** 메뉴에서 **작업 영역 설정**을 선택합니다.
3. **기타** 섹션에서 **이 작업 영역 제거**를 선택합니다.
