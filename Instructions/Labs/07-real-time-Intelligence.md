---
lab:
  title: Microsoft Fabric에서 실시간 인텔리전스 시작
  module: Get started with Real-Time Intelligence in Microsoft Fabric
---

# Microsoft Fabric에서 실시간 인텔리전스 시작

Microsoft Fabric은 실시간 데이터 스트림에 대한 분석 솔루션을 만들 수 있는 실시간 허브를 제공합니다. 이 연습에서는 Microsoft Fabric의 실시간 인텔리전스 기능의 주요 기능 중 일부를 살펴보고 익숙해지도록 합니다.

이 랩을 완료하는 데 약 **30**분이 소요됩니다.

> **참고**: 이 연습을 완료하려면 [Microsoft Fabric 테넌트](https://learn.microsoft.com/fabric/get-started/fabric-trial)가 필요합니다.

## 작업 영역 만들기

Fabric에서 데이터로 작업하기 전에, Fabric 용량을 사용하도록 설정된 테넌트에서 작업 영역을 만들어야 합니다.

1. [Microsoft Fabric 홈페이지](https://app.fabric.microsoft.com/home?experience=fabric)(`https://app.fabric.microsoft.com/home?experience=fabric`)에서 **실시간 인텔리전스**를 선택합니다.
1. 왼쪽 메뉴 모음에서 **작업 영역**을 선택합니다(아이콘은 와 유사함).
1. Fabric 용량이 포함된 라이선스 모드(*평가판*, *프리미엄* 또는 *Fabric*)를 선택하여 원하는 이름으로 새 작업 영역을 만듭니다.
1. 새 작업 영역이 열리면 비어 있어야 합니다.

    ![Fabric의 빈 작업 영역 스크린샷.](./Images/new-workspace.png)

## Eventhouse 만들기

이제 작업 영역이 있으므로 실시간 인텔리전스 솔루션에 필요한 Fabric 항목 만들기를 시작할 수 있습니다. 먼저 실시간 데이터에 대한 KQL 데이터베이스를 포함하는 Eventhouse를 만듭니다.

1. 왼쪽 메뉴 모음에서 **홈**을 선택한 다음 실시간 인텔리전스 홈 페이지에서 새 **Eventhouse**를 만들어, 원하는 고유한 이름을 지정합니다.
1. 빈 Eventhouse가 새로 표시될 때까지 표시되는 팁이나 프롬프트를 닫습니다.

    ![새 Eventhouse의 스크린샷](./Images/create-eventhouse.png)

1. 왼쪽 창의 Eventhouse에는 Eventhouse와 이름이 같은 KQL 데이터베이스가 포함되어 있습니다. 이 데이터베이스에서 실시간 데이터에 대한 테이블을 만들거나 필요에 따라 추가 데이터베이스를 만들 수 있습니다.
1. 데이터베이스를 선택하고 연결된 *쿼리 세트*가 있음을 확인합니다. 이 파일에는 데이터베이스의 테이블 쿼리를 시작하는 데 사용할 수 있는 몇 가지 샘플 KQL 쿼리가 포함되어 있습니다.

    그러나 현재는 쿼리할 테이블이 없습니다. eventstream을 사용하여 데이터베이스에 일부 데이터를 수집하여 해당 문제를 해결해 보겠습니다.

## Eventstream 만들기

1. KQL 데이터베이스의 기본 페이지에서 **데이터 가져오기**를 선택합니다.
2. 데이터 원본에 대해 **Eventstream** > **새 Eventstream**을 선택합니다. Eventstream 이름을 지정합니다 `stock-stream`.

    새 Eventstream 만들기는 몇 분 안에 완료됩니다. 일단 설정되면 자동으로 기본 편집기로 리디렉션되어 원본을 이벤트 스트림에 통합할 준비가 됩니다.

    ![새 eventstream의 스크린샷.](./Images//name-eventstream.png)

1. eventstream 캔버스에서 **샘플 데이터 사용**을 선택합니다.
1. 원본 `Stock` 이름을 지정하고 **주식 시장** 샘플 데이터를 선택합니다.

    스트림이 매핑되고 **eventstream 캔버스**에 자동으로 표시됩니다.

   ![Eventstream 캔버스의 스크린샷.](./Images/new-stock-stream.png)

1. **변환 이벤트 또는 대상 추가** 드롭다운 목록의 **대상** 섹션에서 **Eventhouse**를 선택합니다.
1. **Eventhouse** 창에서 다음 설정 옵션을 구성합니다.
   - **데이터 수집 모드:**: 수집 전 이벤트 처리
   - **대상 이름:**`stock-table`
   - **작업 영역:***이 연습의 시작 부분에서 만든 작업 영역 선택*
   - **Eventhouse**: *eventhouse 선택*
   - **KQL 데이터베이스:***Eventhouse KQL 데이터베이스 선택*
   - **대상 테이블:** 이름이 지정된 새 테이블 만들기 `stock`
   - **입력 데이터 형식:** JSON

   ![수집 모드가 있는 KQL 데이터베이스 Eventstream](./Images/configure-destination.png)

1. **Eventhouse** 창에서 **저장**을 선택합니다.
1. 도구 모음에서 **게시**를 선택합니다.
1. 데이터 대상이 활성화될 때까지 잠시 1분 정도 기다립니다.

    이 연습에서는 실시간 데이터를 캡처하고 테이블에 로드하는 매우 간단한 eventstream을 만들었습니다. 실제 솔루션에서는 일반적으로 임시 창(예: 5분 동안 각 주식의 평균 가격을 캡처)을 통해 데이터를 집계하는 변환을 추가합니다

    이제 캡처된 데이터를 쿼리하고 분석하는 방법을 살펴보겠습니다.

## 캡처된 데이터 쿼리

Eventstream은 실시간 주식 시장 데이터를 캡처하여 KQL 데이터베이스의 테이블에 로드합니다. 이 테이블을 쿼리하여 캡처된 데이터를 볼 수 있습니다.

1. 왼쪽 메뉴 모음에서 Eventhouse 데이터베이스를 선택합니다.
1. 데이터베이스에 대한 *QuerySet*을 선택합니다.
1. 쿼리 창에서 다음과 같이 첫 번째 예제 쿼리를 수정합니다.

    ```kql
    stock
    | take 100
    ```

1. 쿼리 코드를 선택하고 실행하여 테이블에서 100개의 데이터 행을 확인합니다.

    ![SQL 쿼리의 스크린샷.](./Images/kql-stock-query.png)

1. 결과를 검토한 다음 쿼리를 수정하여 지난 5분 동안 각 주식 기호의 평균 가격을 검색합니다.

    ```kql
    stock
    | where ["time"] > ago(5m)
    | summarize avgPrice = avg(todecimal(bidPrice)) by symbol
    | project symbol, avgPrice
    ```

1. 수정된 쿼리를 강조 표시하고 실행하여 결과를 확인합니다.
1. 몇 초 정도 기다렸다가 다시 실행하면 실시간 스트림에서 새 데이터가 테이블에 추가되면서 평균 가격이 변경됩니다.

## 실시간 대시보드 만들기

이제 데이터 스트림으로 채워지는 테이블이 있으므로 실시간 대시보드를 사용하여 데이터를 시각화할 수 있습니다.

1. 쿼리 편집기에서 지난 5분 동안의 평균 주가를 검색하는 데 사용한 KQL 쿼리를 선택합니다.
1. 메뉴에서 **대시보드에 고정**을 선택합니다. 그런 다음, 다음 설정을 사용하여 **새 대시보드**에 쿼리를 고정합니다.
    - **대시보드 이름**: `Stock Dashboard`
    - **타일 이름**: `Average Prices`
1. 대시보드를 만들고 엽니다. 다음과 같이 표시되어야 합니다.

    ![새 대시보드의 스크린샷.](./Images/stock-dashboard-table.png)

1. 대시보드 맨 위에서 **보기** 모드에서 **편집** 모드로 전환합니다.
1. **평균 가격** 타일에 대한 **편집**(*연필*) 아이콘을 선택합니다.
1. **시각적 개체 서식** 창에서 **시각적 개체**를 *테이블*에서 *세로 막대형 차트*로 변경합니다.

    ![편집 중인 대시보드 타일의 스크린샷.](./Images/edit-dashboard-tile.png)

1. 대시보드 맨 위에서 **변경 내용 적용**을 선택하여 수정된 대시보드를 확인합니다.

    ![차트 타일이 있는 대시보드의 스크린샷.](./Images/stock-dashboard-chart.png)

    이제 실시간 주식 데이터에 대한 실시간 시각적 개체가 있습니다.

## 경고 만들기

Microsoft Fabric의 실시간 인텔리전스에는 실시간 이벤트를 기반으로 작업을 트리거할 수 있는 *Activator*라는 기술이 포함되어 있습니다. 평균 주가가 특정 금액만큼 증가할 때 이를 사용하여 경고해 보겠습니다.

1. 주가 시각적 개체가 포함된 대시보드 창의 도구 모음에서 **경고 설정**을 선택합니다.
1. **경고 설정** 창에서 다음 설정을 사용하여 경고를 만듭니다.
    - **쿼리 실행 간격**을 5분으로 설정합니다.
    - **확인**: 그룹화된 각 이벤트에서 다음을 수행합니다.
    - **그룹화 필드**: 기호
    - **시기**: avgPrice
    - **조건**: 증가 기준
    - **값**: 100
    - **작업**: 나에게 이메일 보내기
    - **저장 위치**:
        - **작업 영역**: *작업 영역*
        - **항목**:새 항목 만들기
        - **새 항목 이름**: *원하는 고유한 이름*

    ![경고 설정의 스크린샷.](./Images/configure-activator.png)

1. 경고를 만들고 저장될 때까지 기다립니다. 그런 다음 경고가 만들어졌음을 확인하는 창을 닫습니다.
1. 왼쪽 메뉴 모음에서 작업 영역의 페이지를 선택합니다(메시지가 표시되면 대시보드에 저장되지 않은 변경 내용 저장).
1. 작업 영역 페이지에서 경고에 대한 Activator를 포함하여 이 연습에서 만든 항목을 확인합니다.
1. Activator를 열고 해당 페이지의 **avgPrice** 노드 아래에서 경고에 대한 고유 식별자를 선택합니다. 그런 다음 **기록** 탭을 확인합니다.

    경고가 트리거되지 않은 경우에는 기록에 데이터가 포함되지 않습니다. 평균 주가가 100을 초과하여 변경되면 Activator가 이메일을 보내고 경고가 기록에 남습니다.

## 리소스 정리

이 연습에서는 Eventhouse를 만들고, Eventstream을 사용하여 실시간 데이터를 수집하고, KQL 데이터베이스 테이블에서 수집된 데이터를 쿼리하고, 실시간 데이터를 시각화하는 실시간 대시보드를 만들고, Activator를 사용하여 경고를 구성했습니다.

Fabric에서 실시간 인텔리전스 탐색을 완료한 경우 이 연습에 대해 만든 작업 영역을 삭제할 수 있습니다.

1. 왼쪽 막대에서 작업 영역의 아이콘을 선택합니다.
2. 메뉴에서 **작업 영역 설정**을 선택합니다.
3. **일반** 섹션에서 **이 작업 영역 제거**를 선택합니다.
